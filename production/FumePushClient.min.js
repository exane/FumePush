!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.FumePush=n()}}(function(){return function n(e,t,o){function i(s,u){if(!t[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var f=t[s]={exports:{}};e[s][0].call(f.exports,function(n){var t=e[s][1][n];return i(t?t:n)},f,f.exports,n,e,t,o)}return t[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(n,e){var t=function(){var n=function(n,e){this.channelName=e,this.socket=n,this._joinRoom(this.channelName)},e=n.prototype;return e.channelName=null,e.socket=null,e._joinRoom=function(n){this.socket.emit("Join:Room",n)},e.trigger=function(n,e,t){var o=this;t=t||!1,this.socket.emit("Trigger:Event",{room:o.channelName,event:n,data:e,isBroadcasting:t})},e.bind=function(n,e){var t=this;this.socket.on(n,function(n){return"FumePush:PUBLIC"!=n.room&&t.channelName!=n.room?0:void e.call(t,n.data)})},e.broadcast=function(n,e){this.trigger(n,e,!0)},n}();e.exports=t},{}],2:[function(n,e){var t=function(){var e=n("./FumePush.Channel"),t=function(n,e){i.call(this,n,e)},o=t.prototype;o.socket=null,o._rooms=[];var i=function(n,e){this.socket=io.connect(n+":"+e)};return o.trigger=function(n,e){var t=t||!1;this.socket.emit("Trigger:Event",{room:"FumePush:PUBLIC",event:n,data:e,isBroadcasting:t,toAll:!0})},o.bind=function(n,e){var t=this;this.socket.on(n,function(n){e.call(t,n.data)})},o.subscribe=function(n){var t=new e(this.socket,n);return this._rooms.push(n),t},o.unsubscribe=function(n){this._rooms.splice(n),this.socket.emit("Leave:Room",n);for(var e=0;e<this._rooms.length;e++)if(this._rooms[e]==n)return this._rooms.splice(e,1)},o.disconnect=function(){},t}();e.exports=t},{"./FumePush.Channel":1}]},{},[2])(2)});